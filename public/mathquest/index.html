<html><head><base href="." />
<title>Math Quiz Game</title>
<style>
    :root {
        --primary-color: #7048e8;
        --secondary-color: #4c6ef5;
        --success-color: #37b24d;
        --danger-color: #f03e3e;
        --light-color: #f8f9fa;
        --gradient-1: #a5b4fc;
        --gradient-2: #818cf8;
    }

    body {
        font-family: 'Quicksand', 'Segoe UI', sans-serif;
        margin: 0;
        padding: 20px;
        background: linear-gradient(135deg, var(--gradient-1) 0%, var(--gradient-2) 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .container {
        max-width: 800px;
        background: rgba(255, 255, 255, 0.95);
        padding: 2rem;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        backdrop-filter: blur(10px);
        transform: translateY(0);
        transition: transform 0.3s ease;
        position: relative;
        border: 15px solid transparent;
        background-clip: padding-box;
    }

    .container::before {
        content: '';
        position: absolute;
        inset: -15px;
        z-index: -1;
        border-radius: 25px;
        background: linear-gradient(45deg, 
            #ff9a9e 0%,
            #fad0c4 10%,
            #fad0c4 20%,
            #a18cd1 30%,
            #fbc2eb 40%,
            #a6c1ee 50%,
            #fbc2eb 60%,
            #a18cd1 70%,
            #fad0c4 80%,
            #ff9a9e 90%,
            #fad0c4 100%
        );
        animation: borderRotate 8s linear infinite;
        background-size: 200% 200%;
    }

    @keyframes borderRotate {
        0% {
            background-position: 0% 0%;
        }
        100% {
            background-position: 200% 200%;
        }
    }

    .container::after {
        content: '+ √∑ √ó = ‚àö œÄ ‚àë ‚à´ ‚àû';
        position: absolute;
        inset: -15px;
        z-index: -1;
        border-radius: 25px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 20px;
        color: rgba(255, 255, 255, 0.7);
        text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        white-space: nowrap;
        overflow: hidden;
        animation: symbolsRotate 15s linear infinite;
    }

    @keyframes symbolsRotate {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }

    .game-header {
        text-align: center;
        margin-bottom: 2rem;
        position: relative;
    }

    .game-header h1 {
        color: var(--primary-color);
        font-size: 2.5rem;
        margin-bottom: 1.5rem;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    .difficulty-selector {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 2rem;
    }

    .difficulty-btn {
        padding: 0.8rem 2rem;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.3s ease;
        background: var(--light-color);
        color: var(--primary-color);
        font-size: 1.1rem;
    }

    .difficulty-btn:hover {
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .difficulty-btn.active {
        background: var(--primary-color);
        color: white;
        box-shadow: 0 5px 15px rgba(112, 72, 232, 0.3);
    }

    .time-limit-selector {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 2rem;
    }

    .time-btn {
        padding: 0.8rem 2rem;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.3s ease;
        background: var(--light-color);
        color: var(--primary-color);
        font-size: 1.1rem;
    }

    .time-btn:hover {
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .time-btn.active {
        background: var(--primary-color);
        color: white;
        box-shadow: 0 5px 15px rgba(112, 72, 232, 0.3);
    }

    .timer {
        text-align: center;
        font-size: 2rem;
        color: var(--primary-color);
        margin-bottom: 1rem;
        font-weight: bold;
    }

    .progress-bar {
        width: 100%;
        height: 12px;
        background: var(--light-color);
        border-radius: 10px;
        overflow: hidden;
        margin-bottom: 1.5rem;
    }

    .progress {
        height: 100%;
        background: linear-gradient(90deg, var(--secondary-color), var(--primary-color));
        width: 100%;
        transition: width linear 1s;
        border-radius: 10px;
    }

    .question {
        font-size: 1.4rem;
        margin-bottom: 1.5rem;
        color: var(--primary-color);
        text-align: center;
        font-weight: 600;
    }

    .options {
        display: grid;
        gap: 1rem;
        margin-bottom: 1.5rem;
    }

    .option {
        padding: 1.2rem;
        border: 2px solid var(--light-color);
        border-radius: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1.1rem;
        background: white;
    }

    .option:hover {
        background: var(--light-color);
        transform: translateX(5px);
    }

    .option.correct {
        background: var(--success-color);
        color: white;
        transform: scale(1.02);
    }

    .option.incorrect {
        background: var(--danger-color);
        color: white;
    }

    .result-container {
        text-align: center;
        display: none;
    }

    .score {
        font-size: 2.5rem;
        margin-bottom: 1.5rem;
        color: var(--primary-color);
        font-weight: bold;
    }

    .explanation {
        margin-bottom: 1rem;
        padding: 1.2rem;
        background: var(--light-color);
        border-radius: 15px;
        color: #2c3e50;
        text-align: left;
    }

    .btn {
        padding: 1rem 2.5rem;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        font-weight: bold;
        background: var(--primary-color);
        color: white;
        transition: all 0.3s ease;
        font-size: 1.2rem;
        margin-top: 1rem;
    }

    .btn:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 5px 15px rgba(112, 72, 232, 0.3);
    }

    .time-taken {
        font-size: 1.3rem;
        color: var(--secondary-color);
        margin-bottom: 1.5rem;
    }

    .leaderboard-container {
        margin-top: 2rem;
        padding-top: 2rem;
        border-top: 2px solid var(--light-color);
    }

    .leaderboard-filters {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 1rem;
    }

    .leaderboard-btn {
        padding: 0.5rem 1.5rem;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.3s ease;
        background: var(--light-color);
        color: var(--primary-color);
    }

    .leaderboard-btn.active {
        background: var(--primary-color);
        color: white;
    }

    .leaderboard-table {
        overflow-x: auto;
    }

    .leaderboard-table table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 1rem;
    }

    .leaderboard-table th,
    .leaderboard-table td {
        padding: 0.8rem;
        text-align: left;
        border-bottom: 1px solid var(--light-color);
    }

    .leaderboard-table th {
        background: var(--light-color);
        color: var(--primary-color);
        font-weight: bold;
    }

    .leaderboard-table tr:nth-child(even) {
        background: rgba(0,0,0,0.02);
    }

    .leaderboard-table tr:hover {
        background: rgba(0,0,0,0.05);
    }

    .hosting-options {
        margin-top: 2rem;
        padding: 1.5rem;
        background: var(--light-color);
        border-radius: 15px;
    }

    .hosting-options h2 {
        color: var(--primary-color);
        margin-bottom: 1rem;
    }

    .hosting-options h3 {
        color: var(--secondary-color);
        margin: 1rem 0;
    }

    .hosting-options ol, 
    .hosting-options ul {
        margin-left: 1.5rem;
        line-height: 1.6;
    }

    .hosting-options code {
        background: rgba(0,0,0,0.05);
        padding: 0.2rem 0.4rem;
        border-radius: 4px;
    }

    .hosting-options a {
        color: var(--primary-color);
        text-decoration: none;
    }

    .hosting-options a:hover {
        text-decoration: underline;
    }
</style>
</head>
<body>
<audio id="correctSound" src="https://assets.mixkit.co/active_storage/sfx/2003/2003-preview.mp3" preload="auto"></audio>
<audio id="incorrectSound" src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3" preload="auto"></audio>
<audio id="gameOverSound" src="https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3" preload="auto"></audio>
<audio id="startGameSound" src="https://assets.mixkit.co/active_storage/sfx/2018/2018-preview.mp3" preload="auto"></audio>

    <div class="container">
        <div class="game-header">
            <h1>‚ú® Math Quest ‚ú®</h1>
            <div class="difficulty-selector">
                <button class="difficulty-btn active" data-difficulty="easy">Easy</button>
                <button class="difficulty-btn" data-difficulty="medium">Medium</button>
                <button class="difficulty-btn" data-difficulty="hard">Hard</button>
            </div>
            <div class="time-limit-selector">
                <button class="time-btn active" data-time="30">30 Seconds</button>
                <button class="time-btn" data-time="60">1 Minute</button>
            </div>
        </div>

        <div class="question-container">
            <div class="timer">‚è≥ <span id="time">30</span>s</div>
            <div class="progress-bar">
                <div class="progress"></div>
            </div>
            <div class="question"></div>
            <div class="options"></div>
        </div>

        <div class="result-container">
            <h2>üéâ Quiz Complete! üéâ</h2>
            <div class="score">Score: <span id="final-score">0</span></div>
            <div class="time-taken">‚åõ Time: <span id="total-time">0</span>s</div>
            <div id="explanations"></div>
            <button class="btn" onclick="restartGame()">Play Again üöÄ</button>
        </div>

        <div class="leaderboard-container">
            <h2>üèÜ Leaderboard</h2>
            <div class="leaderboard-filters">
                <button class="leaderboard-btn active" data-filter="all">All Time</button>
                <button class="leaderboard-btn" data-filter="today">Today</button>
            </div>
            <div class="leaderboard-table">
                <table>
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Player</th>
                            <th>Score</th>
                            <th>Questions</th>
                            <th>Difficulty</th>
                            <th>Time</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboard-body">
                    </tbody>
                </table>
            </div>
        </div>

        <div class="hosting-options">
            <h2>üöÄ Host Your Game</h2>
            <h3>GitHub Pages (Free and Easy):</h3>
            <ol>
                <li>Create a GitHub account if you don't have one.</li>
                <li>Create a new repository.</li>
                <li>Upload the code as <code>index.html</code>.</li>
                <li>Enable GitHub Pages in repository settings.</li>
                <li>Your game will be available at: <code>https://[your-username].github.io/[repository-name]</code>.</li>
            </ol>
            <h3>Other Free Hosting Options:</h3>
            <ul>
                <li><a href="https://www.netlify.com" target="_blank">Netlify</a></li>
                <li><a href="https://vercel.com" target="_blank">Vercel</a></li>
                <li><a href="https://codepen.io" target="_blank">CodePen</a></li>
            </ul>
        </div>
    </div>

<script>
let usedQuestionIndices = new Set();

const questions = {
    easy: [
        {
            question: "üé≤ What is 7 √ó 8?",
            options: ["54", "56", "64", "72"],
            correct: 1,
            explanation: "7 √ó 8 = 56. This is a basic multiplication fact. Think of it as 7 groups of 8!"
        },
        {
            question: "üîç Solve for x: x + 5 = 12",
            options: ["5", "7", "8", "17"],
            correct: 1,
            explanation: "If x + 5 = 12, then x must be 7 because 7 + 5 = 12. Think of it as: what number plus 5 equals 12?"
        },
        {
            question: "üìê What is the area of a square with side length 6?",
            options: ["12", "24", "36", "48"],
            correct: 2,
            explanation: "The area of a square is side √ó side (or side¬≤). So 6 √ó 6 = 36 square units!"
        },
        {
            question: "üéØ What is 12 + 15?",
            options: ["25", "27", "28", "30"],
            correct: 1,
            explanation: "12 + 15 = 27. Break it down: 12 + 10 = 22, then add 5 more!"
        },
        {
            question: "üé® What is 20 - 7?",
            options: ["11", "12", "13", "14"],
            correct: 2,
            explanation: "20 - 7 = 13. Count backwards from 20: 19, 18, 17, 16, 15, 14, 13!"
        },
        {
            question: "üåü What is 4 √ó 6?",
            options: ["18", "24", "28", "30"],
            correct: 1,
            explanation: "4 √ó 6 = 24. Think of it as 6 + 6 + 6 + 6 = 24"
        },
        {
            question: "üé™ What is half of 50?",
            options: ["20", "25", "30", "35"],
            correct: 1,
            explanation: "Half of 50 is 25. Divide 50 by 2!"
        },
        {
            question: "üåà What is 9 + 7?",
            options: ["14", "15", "16", "17"],
            correct: 2,
            explanation: "9 + 7 = 16. Think of it as 9 + 1 = 10, then add 6 more!"
        },
        {
            question: "üé≠ What is 5 √ó 5?",
            options: ["20", "25", "30", "35"],
            correct: 1,
            explanation: "5 √ó 5 = 25. This is a square number!"
        },
        {
            question: "üé™ What is 30 √∑ 6?",
            options: ["3", "4", "5", "6"],
            correct: 2,
            explanation: "30 √∑ 6 = 5. How many groups of 6 make 30?"
        }
    ],
    medium: [
        {
            question: "üßÆ Solve for x: 2x - 7 = 15",
            options: ["11", "8", "4", "22"],
            correct: 0,
            explanation: "Add 7 to both sides: 2x = 22, then divide by 2: x = 11"
        },
        {
            question: "üìä What is 25% of 80?",
            options: ["20", "25", "15", "40"],
            correct: 0,
            explanation: "25% means ¬º, so divide 80 by 4 = 20"
        },
        {
            question: "üéØ If 3x + 2 = 14, what is x?",
            options: ["4", "5", "6", "3"],
            correct: 0,
            explanation: "Subtract 2 from both sides: 3x = 12, then divide by 3: x = 4"
        },
        {
            question: "üé® What is 40% of 150?",
            options: ["60", "70", "80", "90"],
            correct: 0,
            explanation: "40% = 0.4, so 150 √ó 0.4 = 60"
        },
        {
            question: "üåü Solve: 5x + 10 = 35",
            options: ["5", "7", "8", "9"],
            correct: 0,
            explanation: "Subtract 10: 5x = 25, then divide by 5: x = 5"
        },
        {
            question: "üé≠ What is the square root of 81?",
            options: ["7", "8", "9", "10"],
            correct: 2,
            explanation: "‚àö81 = 9 because 9 √ó 9 = 81"
        },
        {
            question: "üé™ If 4y - 3 = 21, what is y?",
            options: ["6", "8", "5", "7"],
            correct: 0,
            explanation: "Add 3: 4y = 24, then divide by 4: y = 6"
        },
        {
            question: "üåà What is 75% of 120?",
            options: ["80", "90", "85", "95"],
            correct: 1,
            explanation: "75% = 0.75, so 120 √ó 0.75 = 90"
        },
        {
            question: "üé≠ Simplify: 2(x + 3) + 4",
            options: ["2x + 10", "2x + 7", "2x + 6", "2x + 8"],
            correct: 0,
            explanation: "First multiply: 2x + 6, then add 4: 2x + 10"
        },
        {
            question: "üé™ What is the area of a rectangle with length 8 and width 5?",
            options: ["35", "40", "45", "50"],
            correct: 1,
            explanation: "Area = length √ó width = 8 √ó 5 = 40"
        }
    ],
    hard: [
        {
            question: "üåü What is the square root of 144?",
            options: ["10", "12", "14", "16"],
            correct: 1,
            explanation: "‚àö144 = 12, because 12 √ó 12 = 144"
        },
        {
            question: "üé® Simplify: (x¬≤ + 2x) + (3x¬≤ - x)",
            options: ["4x¬≤ + x", "4x¬≤ - x", "4x¬≤ + 3x", "2x¬≤ + x"],
            correct: 0,
            explanation: "Combine like terms: x¬≤ + 3x¬≤ = 4x¬≤, and 2x - x = x"
        },
        {
            question: "üåà What is 15% of 200?",
            options: ["30", "25", "35", "40"],
            correct: 0,
            explanation: "15% = 0.15, so 200 √ó 0.15 = 30"
        },
        {
            question: "üé≠ What is 35% of 160?",
            options: ["56", "58", "60", "62"],
            correct: 0,
            explanation: "35% = 0.35, so 160 √ó 0.35 = 56"
        },
        {
            question: "üé™ Solve: 3(2x + 4) = 30",
            options: ["4", "5", "6", "7"],
            correct: 0,
            explanation: "First distribute: 6x + 12 = 30, subtract 12: 6x = 18, divide by 6: x = 4"
        },
        {
            question: "üåü What is the area of a triangle with base 12 and height 8?",
            options: ["48", "96", "52", "44"],
            correct: 0,
            explanation: "Area = ¬Ω √ó base √ó height = ¬Ω √ó 12 √ó 8 = 48"
        },
        {
            question: "üé® If 5y + 8 = 3y + 16, what is y?",
            options: ["4", "5", "6", "7"],
            correct: 0,
            explanation: "Subtract 3y from both sides: 2y + 8 = 16, subtract 8: 2y = 8, divide by 2: y = 4"
        },
        {
            question: "üé≠ What is 28% of 250?",
            options: ["70", "75", "80", "85"],
            correct: 0,
            explanation: "28% = 0.28, so 250 √ó 0.28 = 70"
        },
        {
            question: "üåà Solve: 4(x - 2) = 2(x + 7)",
            options: ["8", "9", "10", "11"],
            correct: 2,
            explanation: "4x - 8 = 2x + 14, subtract 2x: 2x - 8 = 14, add 8: 2x = 22, divide by 2: x = 11"
        },
        {
            question: "üé™ What is the perimeter of a rectangle with length 15 and width 7?",
            options: ["44", "46", "48", "50"],
            correct: 0,
            explanation: "Perimeter = 2(length + width) = 2(15 + 7) = 2(22) = 44"
        }
    ]
};

let currentDifficulty = 'easy';
let currentQuestionIndex = 0;
let score = 0;
let timer;
let timeLeft;
let totalTime = 30; // Default time limit
let incorrectAnswers = [];
let questionsAnswered = 0;

function playSound(soundId) {
    const sound = document.getElementById(soundId);
    sound.currentTime = 0; // Reset sound to start
    sound.play().catch(error => console.log('Sound play failed:', error));
}

// Modify the initGame function to reset used questions
function initGame() {
    currentQuestionIndex = 0;
    score = 0;
    questionsAnswered = 0;
    incorrectAnswers = [];
    timeLeft = totalTime;
    usedQuestionIndices.clear(); // Reset used questions
    showQuestion();
    document.querySelector('.question-container').style.display = 'block';
    document.querySelector('.result-container').style.display = 'none';
    playSound('startGameSound');
    startTimer();
}

function startTimer() {
    document.getElementById('time').textContent = timeLeft;
    
    const progressBar = document.querySelector('.progress');
    progressBar.style.width = '100%';
    
    clearInterval(timer);
    timer = setInterval(() => {
        timeLeft--;
        document.getElementById('time').textContent = timeLeft;
        progressBar.style.width = `${(timeLeft/totalTime) * 100}%`;
        
        if (timeLeft <= 0) {
            clearInterval(timer);
            showResults();
        }
    }, 1000);
}

function showQuestion() {
    // Reset used questions if all questions have been used
    if (usedQuestionIndices.size >= questions[currentDifficulty].length) {
        usedQuestionIndices.clear();
    }
    
    // Get an unused random question
    let availableIndices = [];
    for (let i = 0; i < questions[currentDifficulty].length; i++) {
        if (!usedQuestionIndices.has(i)) {
            availableIndices.push(i);
        }
    }
    
    // Select random question from available ones
    const randomIndex = Math.floor(Math.random() * availableIndices.length);
    currentQuestionIndex = availableIndices[randomIndex];
    usedQuestionIndices.add(currentQuestionIndex);
    
    const question = questions[currentDifficulty][currentQuestionIndex];
    
    document.querySelector('.question').textContent = question.question;
    
    const optionsContainer = document.querySelector('.options');
    optionsContainer.innerHTML = '';
    
    question.options.forEach((option, index) => {
        const button = document.createElement('button');
        button.className = 'option';
        button.textContent = option;
        button.onclick = () => checkAnswer(index);
        optionsContainer.appendChild(button);
    });
}

function checkAnswer(selectedIndex) {
    const question = questions[currentDifficulty][currentQuestionIndex];
    const options = document.querySelectorAll('.option');
    
    options[question.correct].classList.add('correct');
    questionsAnswered++;
    
    if (selectedIndex === question.correct) {
        score += 10;
        playSound('correctSound');
    } else {
        if (selectedIndex !== -1) {
            options[selectedIndex].classList.add('incorrect');
        }
        playSound('incorrectSound');
        incorrectAnswers.push({
            question: question.question,
            explanation: question.explanation
        });
    }

    setTimeout(() => {
        if (timeLeft > 0) {
            showQuestion();
        } else {
            showResults();
        }
    }, 1000);
}

// Function to save score to leaderboard
function saveScore(score, questionsAnswered) {
    const playerName = prompt("Congratulations! Enter your name for the leaderboard:", "Player");
    if (!playerName) return;

    const scoreData = {
        name: playerName,
        score: score,
        questions: questionsAnswered,
        difficulty: currentDifficulty,
        timeLimit: totalTime,
        date: new Date().toISOString(),
    };

    let leaderboard = JSON.parse(localStorage.getItem('mathQuizLeaderboard') || '[]');
    leaderboard.push(scoreData);
    localStorage.setItem('mathQuizLeaderboard', JSON.stringify(leaderboard));
    updateLeaderboard('all');
}

// Function to update leaderboard display
function updateLeaderboard(filter) {
    let leaderboard = JSON.parse(localStorage.getItem('mathQuizLeaderboard') || '[]');
    
    if (filter === 'today') {
        const today = new Date().toDateString();
        leaderboard = leaderboard.filter(score => 
            new Date(score.date).toDateString() === today
        );
    }

    // Sort by score (descending) and time (ascending)
    leaderboard.sort((a, b) => b.score - a.score || a.timeLimit - b.timeLimit);

    const tbody = document.getElementById('leaderboard-body');
    tbody.innerHTML = '';

    leaderboard.forEach((score, index) => {
        const row = document.createElement('tr');
        const date = new Date(score.date);
        row.innerHTML = `
            <td>${index + 1}</td>
            <td>${score.name}</td>
            <td>${score.score}</td>
            <td>${score.questions}</td>
            <td>${score.difficulty}</td>
            <td>${score.timeLimit}s</td>
            <td>${date.toLocaleDateString()}</td>
        `;
        tbody.appendChild(row);
    });
}

// Modify the showResults function to include saving the score
function showResults() {
    clearInterval(timer);
    document.querySelector('.question-container').style.display = 'none';
    document.querySelector('.result-container').style.display = 'block';
    
    document.getElementById('final-score').textContent = score;
    document.getElementById('total-time').textContent = totalTime;
    
    const scoreElement = document.querySelector('.score');
    scoreElement.innerHTML = `Score: <span id="final-score">${score}</span><br>
                            Questions Answered: ${questionsAnswered}`;
    
    const explanationsContainer = document.getElementById('explanations');
    explanationsContainer.innerHTML = '';
    
    playSound('gameOverSound');
    
    // Add explanations for incorrect answers
    if (incorrectAnswers.length > 0) {
        const heading = document.createElement('h3');
        heading.textContent = 'üìù Learning Opportunities:';
        explanationsContainer.appendChild(heading);
        
        incorrectAnswers.forEach(item => {
            const explanation = document.createElement('div');
            explanation.className = 'explanation';
            explanation.innerHTML = `<strong>${item.question}</strong><br>${item.explanation}`;
            explanationsContainer.appendChild(explanation);
        });
    }

    // Save score to leaderboard
    saveScore(score, questionsAnswered);
}

function restartGame() {
    initGame();
}

// Event listeners for difficulty buttons
document.querySelectorAll('.difficulty-btn').forEach(button => {
    button.addEventListener('click', () => {
        document.querySelectorAll('.difficulty-btn').forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
        currentDifficulty = button.dataset.difficulty;
        initGame();
    });
});

// Add event listeners for time limit buttons
document.querySelectorAll('.time-btn').forEach(button => {
    button.addEventListener('click', () => {
        document.querySelectorAll('.time-btn').forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
        totalTime = parseInt(button.dataset.time);
        initGame();
    });
});

// Add event listeners for leaderboard filters
document.querySelectorAll('.leaderboard-btn').forEach(button => {
    button.addEventListener('click', () => {
        document.querySelectorAll('.leaderboard-btn').forEach(btn => 
            btn.classList.remove('active'));
        button.classList.add('active');
        updateLeaderboard(button.dataset.filter);
    });
});

// Initial leaderboard load
updateLeaderboard('all');

// Start the game
initGame();
</script>
</body>
</html>
